tests:
  ###############################################################
  # ===  SECTION 1 : resolver_match == exact                 ===
  ###############################################################

  # ---------- EXACT → flight org • first-login pwd ----
  - id: EXACT_FL_FIRST_PASS_E
    description: "Initial | Exact match. Context |Flight access, First login, Password auth, Email identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: password
      identifier_type: email
    events:
      - submitPassword     # TempPasswordView → createPasswordAction
      - success             # verifyPasswordAction → SetupPasswordView  
      - createPassword      # SetupPasswordView → createPasswordAction
      - success             # createPasswordAction → LoggedInView

  # ---------- EXACT → flight org • first-login sso ----
  - id: EXACT_FL_FIRST_SSO_E
    description: "Initial | Exact match. Context |Flight access, First login, SSO auth, Email identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: sso
      identifier_type: email
    events:
      - success # initiateSSOAction → SSORedirectView → LoggedInView

  # ---------- EXACT → flight org • returning pwd ----
  - id: EXACT_FL_RET_PASS_E
    description: "Initial | Exact match. Context |Flight access, Returning user, Password auth, Email identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - submitPassword     # PasswordEntryView → verifyPasswordAction
      - success             # verifyPasswordAction → LoggedInView

  # ---------- EXACT → non-flight org • returning pwd ----
  - id: EXACT_NFL_RET_PASS_E
    description: "Initial | Exact match. Context |Non-flight access, Returning user, Password auth, Email identifier."
    context:
      resolver_match: exact
      flight_access: "no"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - submitPassword    # PasswordEntryView → verifyPasswordAction
      - success            # verifyPasswordAction → LoggedInView

  # ---------- EXACT → flight org • returning sso ----
  - id: EXACT_FL_RET_SSO_E
    description: "Initial | Exact match. Context |Flight access, Returning user, SSO auth, Email identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: sso
      identifier_type: email
    events:
      - success         # initiateSSOAction → SSORedirectView → LoggedInView

  # ---------- EXACT → flight org • first-login sso (EmployeeID) ----
  - id: EXACT_FL_FIRST_SSO_ID
    description: "Initial | Exact match. Context |Flight access, First login, SSO auth, EmployeeID identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: sso
      identifier_type: employeeid
    events:
      - success     # initiateSSOAction → SSORedirectView → LoggedInView

  # ---------- EXACT → flight org • returning pwd (EmployeeID) ----
  - id: EXACT_FL_RET_PASS_ID
    description: "Initial | Exact match. Context |Flight access, Returning user, Password auth, EmployeeID identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: employeeid
    events:            
      - submitPassword         # PasswordEntryView → verifyPasswordAction
      - success                 # verifyPasswordAction → LoggedInView 

  # ---------- EXACT → flight org • first-login pwd (EmployeeID) ----
  - id: EXACT_FL_FIRST_PASS_ID
    description: "Initial | Exact match. Context |Flight access, First login, Password auth, EmployeeID identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: password
      identifier_type: employeeid
    events:
      - submitPassword       # TempPasswordView → createPasswordAction
      - success               # verifyPasswordAction → SetupPasswordView
      - createPassword      # SetupPasswordView → createPasswordAction
      - success             # createPasswordAction → LoggedInView

  # ---------- EXACT → flight org • returning sso (EmployeeID) ----
  - id: EXACT_FL_RET_SSO_ID
    description: "Initial | Exact match. Context |Flight access, Returning user, SSO auth, EmployeeID identifier."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: sso
      identifier_type: employeeid
    events:
      - success     # initiateSSOAction → SSORedirectView → LoggedInView

  # ---------- EXACT → flight org • returning password (email) | forgot password ----
  - id: EXACT_FL_RET_PASS_E_FORGOT_PW
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
      - updatePassword                      # UpdatePasswordView → UpdatePasswordAction
      - success                             # UpdatePasswordAction → LoggedInView

 # # # ---------- EXACT → flight org • returning password (email) | forgot password ----
 # # - id: EXACT_FL_RET_PASS_E_FORGOT_PW_EMPLOYEEID
 # #   description: "Initial | Exact match. Context |Flight access, Returning user, password auth, employeeID identifier, forgot password"
 # #   context:
 # #     resolver_match: exact
 # #     flight_access: "yes"
 # #     first_login: "no"
 # #     login_method: password
 # #     identifier_type: employeeid
 # #   events:
 # #     - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
 # #     - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
 # #     - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
 # #     - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
 # #     - updatePassword                      # UpdatePasswordView → UpdatePasswordAction
 # #     - success                             # UpdatePasswordAction → LoggedInView

  # ------------------------------------------------------------#
  # -------------------- Error States --------------------------#
  # ------------------------------------------------------------#

  # ---------- EXACT → flight org • first-login pwd [Error] ----
  - id: EXACT_FL_FIRST_PASS_E_ERROR
    description: "Initial | Exact match. Context |Flight access, First login, Password auth, Email identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: password
      identifier_type: email
    events:
      - submitPassword      # TempPasswordView → createPasswordAction
      - invalidPassword    # verifyPasswordAction → SetupPasswordView  

  # ---------- EXACT → flight org • first-login pwd [Error] ----
  - id: EXACT_FL_PASS_E_ERROR_ACCOUNT_LOCKED
    description: "Initial | Exact match. Context |Flight access, Password auth, Email identifier [Error, Account Locked]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - submitPassword      # PasswordEntryView → verifyPasswordAction
      - accountLocked       # verifyPasswordAction → PasswordEntryView

  # ---------- EXACT → flight org • first-login sso [Error] ----
  - id: EXACT_FL_FIRST_SSO_E_ERROR
    description: "Initial | Exact match. Context |Flight access, First login, SSO auth, Email identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: sso
      identifier_type: email
    events:
      - success     # initiateSSOAction → SSORedirectView
      - failure     # SSORedirectView → UsernameEntryView [Error]

  # ---------- EXACT → flight org • returning pwd [Error] ----
  - id: EXACT_FL_RET_PASS_E_ERROR
    description: "Initial | Exact match. Context |Flight access, Returning user, Password auth, Email identifier [Error]"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - submitPassword      # PasswordEntryView → verifyPasswordAction
      - invalidPassword    # verifyPasswordAction → LoggedInView

  # ---------- EXACT → non-flight org • returning pwd [Error] ----
  - id: EXACT_NFL_RET_PASS_E_ERROR
    description: "Initial | Exact match. Context |Non-flight access, Returning user, Password auth, Email identifier [Error]"
    context:
      resolver_match: exact
      flight_access: "no"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - submitPassword      # PasswordEntryView → verifyPasswordAction
      - invalidPassword    # verifyPasswordAction → LoggedInView

  # ---------- EXACT → flight org • returning sso [Error] (Does this have an error?)  ----
  - id: EXACT_FL_RET_SSO_E_ERROR
    description: "Initial | Exact match. Context |Flight access, Returning user, SSO auth, Email identifier [Error]"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: sso
      identifier_type: email
    events:
      - success     # initiateSSOAction → SSORedirectView
      - failure     # SSORedirectView → UsernameEntryView [Error]

  # ---------- EXACT → flight org • first-login sso (EmployeeID) [Error] ----
  - id: EXACT_FL_FIRST_SSO_ID_ERROR
    description: "Initial | Exact match. Context |Flight access, First login, SSO auth, EmployeeID identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: sso
      identifier_type: employeeid
    events:
      - success     # initiateSSOAction → SSORedirectView
      - failure     # SSORedirectView → UsernameEntryView [Error]

  # ---------- EXACT → flight org • returning pwd (EmployeeID) [Error] ----
  - id: EXACT_FL_RET_PASS_ID_ERROR
    description: "Initial | Exact match. Context |Flight access, Returning user, Password auth, EmployeeID identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: employeeid
    events:            
      - submitPassword        # TempPasswordView → verifyPasswordAction
      - invalidPassword      # verifyPasswordAction → verifyPasswordAction

  # ---------- EXACT → flight org • first-login pwd (EmployeeID) [Error] ----
  - id: EXACT_FL_FIRST_PASS_ID_ERROR
    description: "Initial | Exact match. Context |Flight access, First login, Password auth, EmployeeID identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "yes"
      login_method: password
      identifier_type: employeeid
    events:
      - submitPassword        # TempPasswordView → verifyPasswordAction
      - invalidPassword      # verifyPasswordAction → verifyPasswordAction

  # ---------- EXACT → flight org • returning sso (EmployeeID) [sso Error] ----
  - id: EXACT_FL_RET_SSO_ID_ERROR
    description: "Initial | Exact match. Context |Flight access, Returning user, SSO auth, EmployeeID identifier [Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: sso
      identifier_type: employeeid
    events:
      - success       # initiateSSOAction → SSORedirectView
      - failure       # SSORedirectView → UsernameEntryView [Error]

  ##---------- EXACT → flight org • returning sso (EmployeeID) [sso cancel Error] ----
  - id: EXACT_FL_RET_SSO_ID_ERROR_CANCEL
    description: "Initial | Exact match. Context |Flight access, Returning user, SSO auth, EmployeeID identifier [Cancel Error]."
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: sso
      identifier_type: employeeid
    events:
      - success       # initiateSSOAction → SSORedirectView
      - cancelled     # SSORedirectView → UsernameEntryView [Cancel Error]

  ## ---------- EXACT → flight org • returning password (email) | forgot password [Error] ----
  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_ERROR
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password [Error]"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
      - updatePassword                      # UpdatePasswordView → UpdatePasswordAction
      - failure                             # UpdatePasswordAction → UpdatePasswordView

  ## ---------- EXACT → flight org • returning password (email) | forgot password ----
  - id: EXACT_FL_RET_PASS_E_FORGOT_PW
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
      - updatePassword                      # UpdatePasswordView → UpdatePasswordAction
      - success                             # UpdatePasswordAction → LoggedInView

  ## ---------- EXACT → flight org • returning password (email) | forgot password | skip ----
  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_SKIP
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password, skip"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
      - skip                                # UpdatePasswordAction → LoggedInView

  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_BAD_TOKEN_1
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password, bad token 1"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - invalid                             # resolvePasswordResetTokenAction → UpdatePasswordView (UI Error, token is invalid)

  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_BAD_TOKEN_2
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password, bad token 2"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - forgotPasswordEmailLinkSuccess      # ForgotPasswordEmailLinkView → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - expired                             # resolvePasswordResetTokenAction → UpdatePasswordView (UI Error, token is invalid)

  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_RESEND_EMAIL
    description: "Initial | Exact match. Context |Flight access, Returning user, password auth, email identifier, forgot password, resend email"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - resendEmail                         # ForgotPasswordEmailLinkView → sendResetEmailAction
      - success                             # sendResetEmailAction → UpdatePasswordView
      - processToken                        # UpdatePasswordView (frontend detects token from URL) → resolvePasswordResetTokenAction
      - valid                               # resolvePasswordResetTokenAction → UpdatePasswordView (UI shows password fields, token is valid)
      - skip                                # UpdatePasswordAction → LoggedInView

  - id: EXACT_FL_RET_PASS_E_FORGOT_PW_RESEND_EMAIL_ERROR
    description: "Initial | Exact match. Context | Flight access, Returning user, password auth, email identifier, forgot password, resend email, error"
    context:
      resolver_match: exact
      flight_access: "yes"
      first_login: "no"
      login_method: password
      identifier_type: email
    events:
      - forgotPassword                      # PasswordEntryView → ForgotPasswordEmailLinkView
      - resendEmail                         # ForgotPasswordEmailLinkView → sendResetEmailAction
      - error                               # sendResetEmailAction → UpdatePasswordView

  # ###############################################################
  # # ===  SECTION 2 : resolver_match == multiple               ===
  # ###############################################################

  # ---------- MULTIPLE → flight org • returning pwd ----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_PASS_E
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, Password auth, Email identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected    # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: password
          identifier_type: email
      - submitPassword       # PasswordEntryView → verifyPasswordAction
      - success               # verifyPasswordAction → LoggedInView 

  # ---------- MULTIPLE → flight org • first-login sso ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_SSO_E
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, SSO auth, Email identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected         # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: sso
          identifier_type: email
      - success                      # initiateSSOAction → SSORedirectView → LoggedInView 

  # ---------- MULTIPLE → flight org • returning sso ----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_SSO_E
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, SSO auth, Email identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected     # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: sso
          identifier_type: email
      - success                   # initiateSSOAction → SSORedirectView → LoggedInView  

  # ---------- MULTIPLE → flight org • first-login pwd ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_PASS_E
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, Password auth, Email identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected   # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: password
          identifier_type: email
      - submitPassword     # TempPasswordView → createPasswordAction
      - success             # verifyPasswordAction → SetupPasswordView 
      - createPassword      # SetupPasswordView → createPasswordAction
      - success             # createPasswordAction → LoggedInView

  # ---------- MULTIPLE → flight org • first-login pwd (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_PASS_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, Password auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: password
          identifier_type: employeeid
      - submitPassword     # TempPasswordView → createPasswordAction
      - success             # verifyPasswordAction → SetupPasswordView 
      - createPassword      # SetupPasswordView → createPasswordAction
      - success             # createPasswordAction → LoggedInView

  # ---------- MULTIPLE → flight org • first-login sso (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_SSO_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, SSO auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected   # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: sso
          identifier_type: employeeid
      - success             # initiateSSOAction → SSORedirectView → LoggedInView

  # ---------- MULTIPLE → flight org • returning sso (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_SSO_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, SSO auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected      # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: sso
          identifier_type: employeeid
      - success                 # initiateSSOAction → SSORedirectView → LoggedInView 

  # ---------- MULTIPLE → flight org • returning pwd (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_PASS_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, Password auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: password
          identifier_type: employeeid
      - submitPassword
      - success

  # # ------------------------------------------------------------#
  # # -------------------- Error States --------------------------#
  # # ------------------------------------------------------------#

    # # ---------- MULTIPLE → flight org • returning pwd • Forgot Passwd----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_PASS_E_FORGOT_PW
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, Password auth, Email identifier), forgot password."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected    # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: password
          identifier_type: email
      - submitPassword       # PasswordEntryView → verifyPasswordAction
      - invalidPassword      # verifyPasswordAction → SetupPasswordView
      - submitPassword       # PasswordEntryView → verifyPasswordAction
      - success               # verifyPasswordAction → LoggedInView 

  # # ---------- MULTIPLE → flight org • first-login sso • Forgot Password ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_SSO_E_FORGOT_PW
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, SSO auth, Email identifier), forgot password."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected         # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: sso
          identifier_type: email
      - success # initiateSSOAction → SSORedirectView
      - failure # SSORedirectView → UsernameEntryView [Error] 

    # # ---------- MULTIPLE → flight org • first-login sso • Cancel SSO ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_SSO_E_CANCEL_SSO
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, SSO auth, Email identifier), cancel SSO."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected         # OrganizationPickerView → resolveUsernameAction
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: sso
          identifier_type: email
      - success # initiateSSOAction → SSORedirectView
      - cancelled # SSORedirectView → UsernameEntryView [Cancel Error] 

  # ---------- MULTIPLE → flight org • first-login pwd (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_FIRST_PASS_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, First login, Password auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: password
          identifier_type: employeeid
      - submitPassword     # TempPasswordView → createPasswordAction
      - success             # verifyPasswordAction → SetupPasswordView 
      - createPassword      # SetupPasswordView → createPasswordAction
      - failure             # createPasswordAction → SetupPasswordView

  # ---------- MULTIPLE → flight org • returning pwd (EmployeeID) ----
  - id: MULTIPLE_E_THEN_EXACT_FL_RET_PASS_ID
    description: "Initial | Multiple matches (Email identifier). Event: organizationSelected returns multiple; resolve again yields exact match (Flight access, Returning user, Password auth, EmployeeID identifier)."
    context:
      resolver_match: multiple
      identifier_type: email
    events:
      - organizationSelected
      -
        type: exact
        context:
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: password
          identifier_type: employeeid
      - submitPassword       # PasswordEntryView → verifyPasswordAction
      - invalidPassword      # verifyPasswordAction → PasswordEntryView

  # ###############################################################
  # # ===  SECTION 3 : resolver_match == none                   ===
  # ###############################################################
  - id: NONE_FL_E_DMY_SUBMITUSER_THEN_EXACT_FL_RET_PASS_ID
    description: "Initial | No match (Flight access, Email identifier, Domain match Yes). User prompted to use EmployeeID."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      flight_access: "yes"            # we know they have flight access based on this email domain
      identifier_type: email
      domain_match: "yes"
    events:
      - organizationSelected      # EmployeeUsernamePromptView → resolveUsernameAction 
      -                              # At this point we reset our ctx object and start over
        type: exact                  # event.type =  exact | error
        context:                     # merge this into sm.ctx before branching
          resolver_match: exact
          flight_access: "yes"
          first_login: "no"
          login_method: password
          identifier_type: employeeid
      - submitPassword              # PasswordEntryView → verifyPasswordAction
      - success                      # verifyPasswordAction → LoggedInView

  - id: NONE_FL_E_DMY_SUBMITUSER_THEN_EXACT_FL_FIRST_PASS_ID
    description: "Initial | No match (Flight access, Email identifier, Domain match Yes). User prompted to use EmployeeID."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      flight_access: "yes"            # we know they have flight access based on this email domain
      identifier_type: email
      domain_match: "yes"
    events:
      - organizationSelected      # EmployeeUsernamePromptView → resolveUsernameAction
      -                              # At this point we reset our ctx object and start over
        type: exact                  # event.type
        context:                     # merge this into sm.ctx before branching
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: password
          identifier_type: employeeid
      - submitPassword        # TempPasswordView → createPasswordAction
      - success               # verifyPasswordAction → SetupPasswordView
      - createPassword        # SetupPasswordView → createPasswordAction
      - success               # createPasswordAction → LoggedInView

  - id: NONE_EID_NDM_SUBMITUSER_THEN_ERROR_NONE_EID_NDM
    description: "Initial | No match (EmployeeID identifier, Domain match No). Retry resolve from EmployeeIDCompanyPicker succeeds."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      identifier_type: employeeid
      domain_match: "no"
    events:
      - organizationSelected         # EmployeeUsernamePromptView → resolveUsernameAction              
      -                              # At this point we reset our ctx object and start over
        type: exact                  # event.type
        context:                     # merge this into sm.ctx before branching
          resolver_match: exact
          flight_access: "yes"
          first_login: "yes"
          login_method: password
          identifier_type: employeeid
      - submitPassword                # TempPasswordView → createPasswordAction
      - success                       # verifyPasswordAction → SetupPasswordView
      - createPassword                # SetupPasswordView → createPasswordAction
      - success                       # createPasswordAction → LoggedInView

  - id: NONE_NF_FIRST_PASS_E_DMY_CREATEACC
    description: "Initial | No match (No Flight access, Email identifier, Domain match Yes). User prompted to create an account."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      flight_access: "no"
      identifier_type: email
      domain_match: "yes"
    events:
      - passwordEmailLinkSuccess    # PasswordEmailLinkView → sendPasswordEmailLinkAction
      - processToken                # SetupPasswordView (frontend detects token from URL) → resolvePasswordSetupTokenAction
      - valid                       # resolvePasswordSetupTokenAction → SetupPasswordView (UI shows password fields, token is valid)
      - createPassword              # SetupPasswordView → createPasswordAction
      - success                     # createPasswordAction → LoggedInView

  # ------------------------------------------------------------#
  # -------------------- Error States --------------------------#
  # ------------------------------------------------------------#
  - id: NONE_FL_E_DMY_SUBMITUSER_THEN_ERROR_NONE_FL_E_DMY
    description: "Initial | No match (Flight access, Email identifier, Domain match Yes). Retry resolve fails, user stays on prompt with error."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      flight_access: "yes"
      identifier_type: email
      domain_match: "yes"
    events:
      - organizationSelected      # EmployeeUsernamePromptView → resolveUsernameAction
      - error                        # resolveUsernameAction → EmployeeUsernamePromptView

  - id: NONE_NF_FIRST_PASS_E_DMY_CREATEACC_ERROR
    description: "Initial | No match (Flight access, Email identifier, Domain match Yes). Retry resolve fails, user stays on prompt with error."
    # initial ctx used only up to the first resolveUsernameAction
    context:
      resolver_match: none
      flight_access: "no"
      identifier_type: email
      domain_match: "yes"
    events:
      - passwordEmailLinkSuccess    # PasswordEmailLinkView → sendPasswordEmailLinkAction 
      - processToken                # SetupPasswordView (frontend detects token from URL) → resolvePasswordSetupTokenAction
      - valid                       # resolvePasswordSetupTokenAction → SetupPasswordView (UI shows password fields, token is valid)
      - createPassword              # SetupPasswordView → createPasswordAction
      - failure                     # createPasswordAction → SetupPasswordView